# üñ•Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è 32-–±–∏—Ç–Ω–∞—è –û–° (x86)

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–µ–±–æ–ª—å—à–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã **i386 (x86)** —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º, –ø–µ—Ä–µ—Ö–æ–¥–æ–º –≤ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π —Ä–µ–∂–∏–º –∏ –±–∞–∑–æ–≤—ã–º —è–¥—Ä–æ–º —Å –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏.

> üöß **–°—Ç–∞—Ç—É—Å:** —É—á–µ–±–Ω—ã–π/—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. –ù–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîπ –ó–∞–≥—Ä—É–∑—á–∏–∫ (bootloader)

* –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π **MBR + Stage 2**
* –ß—Ç–µ–Ω–∏–µ —Å –¥–∏—Å–∫–∞ —á–µ—Ä–µ–∑ BIOS (INT 13h)
* –í–∫–ª—é—á–µ–Ω–∏–µ **A20**
* –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ **E820**
* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ **GDT**
* –ü–µ—Ä–µ—Ö–æ–¥ –≤ **Protected Mode (32-bit)**

### üîπ –Ø–¥—Ä–æ (kernel)

* –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ i386
* –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (**IDT, PIC**)
* –î–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ (`inb/outb`)
* –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é:

  * –†–∞–∑–±–æ—Ä –∫–∞—Ä—Ç—ã –ø–∞–º—è—Ç–∏ (E820)
  * –ë–∞–∑–æ–≤—ã–π heap-–∞–ª–ª–æ–∫–∞—Ç–æ—Ä (`kmalloc/kfree`)
* –î—Ä–∞–π–≤–µ—Ä—ã:

  * **VGA-—Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (80x25)**
  * **TTY (—Ç–µ—Ä–º–∏–Ω–∞–ª)**
  * **PS/2 –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞**
* –ü—Ä–æ—Å—Ç–∞—è –æ–±–æ–ª–æ—á–∫–∞ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `snake`)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ bootloader/      # –ó–∞–≥—Ä—É–∑—á–∏–∫ (ASM, NASM)
‚îú‚îÄ‚îÄ kernel/
‚îÇ   ‚îú‚îÄ‚îÄ arch/i386/   # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ drivers/     # VGA, TTY, Keyboard
‚îÇ   ‚îú‚îÄ‚îÄ lib/         # stdio, string
‚îÇ   ‚îú‚îÄ‚îÄ progs/       # init, shell, snake
‚îÇ   ‚îî‚îÄ‚îÄ linker.ld    # –°–∫—Ä–∏–ø—Ç –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ —è–¥—Ä–∞
‚îî‚îÄ‚îÄ Makefile         # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ —Å–∏—Å—Ç–µ–º—ã
```

---

## üõ†Ô∏è –°–±–æ—Ä–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* `nasm`
* `gcc` (i386 cross-compiler –∏–ª–∏ –º—É–ª—å—Ç–∏–ª–∏–±)
* `make`
* `qemu-system-i386`
* `dd`

### –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ —Å–∏—Å—Ç–µ–º—ã:

```bash
make
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:

```
build/system.img
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –≤ QEMU

```bash
make run
```

### –û—Ç–ª–∞–¥–∫–∞ —Å GDB:

```bash
make debug
```

–ó–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:

```
target remote localhost:1234
```

---

## üìå –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞

1. **MBR (0x7C00)** –∑–∞–≥—Ä—É–∂–∞–µ—Ç Stage 2 —Å –¥–∏—Å–∫–∞.
2. **Stage 2 (0x7E00)**:

   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ç–æ—Ä–∞
   * –ü–æ–ª—É—á–∞–µ—Ç –∫–∞—Ä—Ç—É –ø–∞–º—è—Ç–∏ (E820)
   * –í–∫–ª—é—á–∞–µ—Ç A20
   * –ó–∞–≥—Ä—É–∂–∞–µ—Ç GDT
   * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ Protected Mode
3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —è–¥—Ä—É –ø–æ –∞–¥—Ä–µ—Å—É `0x10000`.

---

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

* –ü–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –ü–ö –Ω–∞ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ
* –ò–∑—É—á–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –≤ Protected Mode
* –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –ø–∞–º—è—Ç—å—é –∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è–º–∏
* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥—Ä–∞–π–≤–µ—Ä–æ–≤

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

* OSDev Wiki: [https://wiki.osdev.org](https://wiki.osdev.org)
* Intel Manuals (Vol. 3)
* Bran‚Äôs Kernel Development Tutorial

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è. –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å:

* ACPI
* Paging
* —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
* –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å
  ‚Äî –±—É–¥—É —Ä–∞–¥ –æ–±—Å—É–¥–∏—Ç—å!

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
